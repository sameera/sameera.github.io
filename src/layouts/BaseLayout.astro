---
import HeadBlock from "../components/HeadBlock.astro";
import NavBar from "../components/NavBar.astro";
import Preloader from "../components/Preloader.astro";
import ScriptsBlock from "../components/ScriptsBlock.astro";

const { page, title } = Astro.props;
---

<!doctype html>
<html lang="en">
    <HeadBlock title={title} />

    <body class="theme-dark" style="overflow-y: auto !important">
        <Preloader />
        <NavBar page={page} />

        <slot />

        <ScriptsBlock>
            <script>
                document.addEventListener("scroll", function () {
                    const navbar = document.querySelector(".navbar");
                    if (!navbar) return;

                    if (window.scrollY > 0) {
                        navbar.classList.add("scrolled");
                    } else {
                        navbar.classList.remove("scrolled");
                    }
                });
            </script>
        </ScriptsBlock>
    </body>
</html>
